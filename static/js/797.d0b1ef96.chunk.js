"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[797],{206:function(e,t,n){var r=n(689),a=n(87),c=n(184);t.Z=function(e){var t=e.movies,n=(0,r.TH)();return(0,c.jsx)(c.Fragment,{children:t.map((function(e){return(0,c.jsx)("li",{children:(0,c.jsx)(a.rU,{to:"/movies/".concat(e.id),state:{from:n},children:e.title})},e.id)}))})}},797:function(e,t,n){n.r(t);var r=n(433),a=n(861),c=n(439),s=n(757),o=n.n(s),u=n(73),i=n(791),l=n(87),f=n(390),m=n(206),h=n(184);t.default=function(){var e,t=(0,i.useState)([]),n=(0,c.Z)(t,2),s=n[0],d=n[1],v=(0,l.lr)(),p=(0,c.Z)(v,2),x=p[0],b=p[1],j=null!==(e=x.get("search"))&&void 0!==e?e:"";return(0,i.useEffect)((function(){if(""!==j){u.Am.loading("Wait a minute...",{duration:700});var e="&query=".concat(j);setTimeout((0,a.Z)(o().mark((function t(){var n,a,c;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,f.f)("/search/movie",e);case 3:n=t.sent,a=n.results,c=n.total_results,u.Am.success("Yeah! We've found ".concat(c," movies!")),d((0,r.Z)(a)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.warn(t.t0),u.Am.error("Oops! Something went wrong...");case 14:case"end":return t.stop()}}),t,null,[[0,10]])}))),800)}}),[j]),(0,h.jsxs)("main",{children:[""===j&&(0,h.jsx)("h2",{children:"Ok! Let's find some movie..."}),(0,h.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.target.elements.search.value;""!==t?b({search:t}):u.Am.error("You must enter some text...")},children:[(0,h.jsx)("input",{type:"text",name:"search",autoFocus:!0,placeholder:"Search movies"}),(0,h.jsx)("button",{type:"submit",children:"Go on"})]}),(0,h.jsx)("hr",{}),s!==[]&&(0,h.jsx)("section",{children:(0,h.jsx)("ul",{children:(0,h.jsx)(m.Z,{movies:s})})})]})}},390:function(e,t,n){n.d(t,{f:function(){return o}});var r=n(861),a=n(757),c=n.n(a),s=n(243);s.Z.defaults.baseURL="https://api.themoviedb.org/3";var o=function(){var e=(0,r.Z)(c().mark((function e(t,n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("".concat(t,"?api_key=").concat("daca860db741facb25da0efbe03487a5").concat(null!==n&&void 0!==n?n:""));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=797.d0b1ef96.chunk.js.map